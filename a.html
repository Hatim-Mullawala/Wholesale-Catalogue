<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hand Tools Catalogue</title>
    <style>
        /* --- ORIGINAL MASTER TEMPLATE --- */
        body { font-family: Arial, sans-serif; margin: 0; background-color: #f4f4f4; }

        /* THE HEADER WITH LOGO AND TITLE */
        .header-container {
            background-color: white; padding: 10px 20px;
            display: flex; justify-content: space-between; align-items: center;
            border-bottom: 2px solid #333;
        }
        .logo-box { width: 100px; }
        .logo-box img { max-width: 100%; height: auto; }
        .header-title { flex-grow: 1; text-align: center; font-size: 1.5rem; font-weight: bold; }
        .header-icons { width: 100px; text-align: right; font-size: 1.2rem; }

        .category-header {
            background-color: #333; color: white; padding: 10px 20px;
            font-size: 1.2rem; font-weight: bold; position: sticky; top: 0; z-index: 1000;
        }

        .product-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 15px; padding: 20px;
        }

        .product-card {
            background: white; border-radius: 5px; padding: 15px;
            display: flex; flex-direction: column; align-items: center; text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .img-holder { width: 100%; height: 180px; display: flex; align-items: center; justify-content: center; margin-bottom: 10px; }
        .img-holder img { max-width: 100%; max-height: 100%; object-fit: contain; }

        .p-brand { font-size: 0.8rem; color: #888; font-weight: bold; margin-bottom: 5px; }
        .p-name { font-size: 1rem; font-weight: bold; margin-bottom: 5px; }
        .p-specs { font-size: 0.9rem; color: #666; margin-bottom: 15px; }

        .btn-request {
            background-color: #27ae60; color: white; text-decoration: none;
            padding: 10px; border-radius: 4px; font-weight: bold; width: 100%;
        }
    </style>
</head>
<body>

    <div class="header-container">
        <div class="logo-box"><img src="logo.png" alt="Logo"></div>
        <div class="header-title">Hand Tools Catalogue</div>
        <div class="header-icons">üîç üõí</div>
    </div>

    <div id="catalog-container"></div>

    <script>
        const sheetURL = "YOUR_TOOLS_SHEET_CSV_URL"; // Enter your Tools CSV link here

        async function loadData() {
            try {
                const response = await fetch(sheetURL);
                const data = await response.text();
                const rows = data.split('\n').filter(r => r.trim() !== '').slice(1);
                
                let products = rows.map(row => {
                    const cols = row.split(',').map(c => c.trim().replace(/^"|"$/g, ''));
                    return { cat: cols[0], brand: cols[1], name: cols[2], specs: cols[3] };
                });

                products.sort((a, b) => a.cat.localeCompare(b.cat));
                renderGrid(products);
            } catch (e) { console.error(e); }
        }

        function renderGrid(products) {
            const container = document.getElementById('catalog-container');
            let currentCat = "";
            let html = "";

            products.forEach(p => {
                if (p.cat !== currentCat) {
                    if (html !== "") html += `</div>`;
                    currentCat = p.cat;
                    html += `<div class="category-header">${currentCat}</div><div class="product-grid">`;
                }

                const clean = (t) => (t || '').toString().toLowerCase().trim().replace(/[^a-z0-9]/g, '-').replace(/-+/g, '-').replace(/^-|-$/g, '');
                
                // Using the specific tool/ folder path
                const img = `tool/${clean(p.brand)}-${clean(p.name)}.jpg`;

                html += `
                    <div class="product-card">
                        <div class="img-holder">
                            <img src="${img}" onerror="this.src='https://via.placeholder.com/150?text=No+Tool+Photo';">
                        </div>
                        <div class="p-brand">${p.brand}</div>
                        <div class="p-name">${p.name}</div>
                        <div class="p-specs">${p.specs}</div>
                        <a href="#" class="btn-request">Request Price</a>
                    </div>`;
            });
            container.innerHTML = html + "</div>";
        }
        loadData();
    </script>
</body>
</html>